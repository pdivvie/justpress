<div class="container">

  <% if current_user.is_a?(GuestUser) %>
    <header class="jumbotron my-4">
      <h1 class="display-3">JUST PRESS</h1>
      <p class="lead">This site is designed to give the local fighting game community a place to gather for news updates such as events but most importantly to share/ watch local vods of past matches. Feel free to register if you would like other players to be able to connect with you and add vods. </p>
      <%= link_to "Register", new_user_registration_path,class: 'btn btn-dark btn-lg' %>
    </header>
  <% end %>

  <div class="frontpage-heading">
    <h4>Latest News</h4>
  </div>
  <div class="row text-center">
    <% if @articles.count != 0 %>
      <% @articles.order('created_at DESC').each do |article| %>
        <div class="col-lg-3 col-md-6 mb-4">
          <div class="card h-100">
            <%= image_tag article.thumb_image.url, height: '200px', width: '100%' %>
            <div class="card-body">
              <h4 class="card-title"><%= article.title %></h4>
            </div>
            <div class="card-footer">
              <span><%= link_to 'Find Out More!', article_path(article), class: 'btn btn-dark' %></span>
            </div>
          </div>
        </div>
      <% end %>
    <% else %>
      <div class="col-12">
        <h3>There is no news at the moment</h3>
      </div>
    <% end %>
  </div>

  <hr>

  <div class="frontpage-heading">
    <h4>Latest Matches</h4>
  </div>

  <div class="card matches-card d-none d-lg-block">
    <% @matches.order('created_at DESC').each do |match| %>
      <%= render partial: 'shared/matches_desktop', locals: { match: match } %>
    <% end %>
  </div>
  

  <div class="card matches-card d-none d-block d-lg-none">
    <% @matches.order('created_at DESC').each do |match| %>
      <%= render partial: 'shared/matches_mobile', locals: { match: match } %>
    <% end %>
  </div>

</div>
